{"ast":null,"code":"import tracker from '../utils/tracker';\nimport onload from '../utils/onload';\nexport function blankScreen() {\n  let wrapperElements = ['html', 'body', '#container', '.content'];\n  let emptyPoints = 0;\n\n  function getSelector(element) {\n    if (element.id) {\n      return \"#\" + element.id;\n    } else if (element.className) {\n      // a b c => .a.b.c\n      return \".\" + element.className.split(' ').filter(item => !!item).join('.');\n    } else {\n      return element.nodeName.toLowerCase();\n    }\n  }\n\n  function isWrapper(element) {\n    let selector = getSelector(element);\n\n    if (wrapperElements.indexOf(selector) !== -1) {\n      emptyPoints++;\n    }\n  }\n\n  onload(function () {\n    for (let i = 1; i <= 9; i++) {\n      let xElements = document.elementsFromPoint(window.innerWidth * i / 10, window.innerHeight / 2);\n      let yElements = document.elementsFromPoint(window.innerWidth / 2, window.innerHeight * i / 10);\n      isWrapper(xElements[0]);\n      isWrapper(yElements[0]);\n    }\n\n    if (emptyPoints >= 18) {\n      let centerElements = document.elementsFromPoint(window.innerWidth / 2, window.innerHeight / 2);\n      tracker.send({\n        kind: 'stability',\n        type: 'blank',\n        emptyPoints,\n        screen: window.screen.width + \"X\" + window.screen.height,\n        viewPoint: window.innerWidth + \"X\" + window.innerHeight,\n        selector: getSelector(centerElements[0])\n      });\n    }\n  });\n}","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/lib/monitor/lib/blankScreen.js"],"names":["tracker","onload","blankScreen","wrapperElements","emptyPoints","getSelector","element","id","className","split","filter","item","join","nodeName","toLowerCase","isWrapper","selector","indexOf","i","xElements","document","elementsFromPoint","window","innerWidth","innerHeight","yElements","centerElements","send","kind","type","screen","width","height","viewPoint"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAO,SAASC,WAAT,GAAuB;AAC1B,MAAIC,eAAe,GAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,YAAjB,EAA+B,UAA/B,CAAtB;AACA,MAAIC,WAAW,GAAG,CAAlB;;AACA,WAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC1B,QAAIA,OAAO,CAACC,EAAZ,EAAgB;AACZ,aAAO,MAAMD,OAAO,CAACC,EAArB;AACH,KAFD,MAEO,IAAID,OAAO,CAACE,SAAZ,EAAuB;AAAC;AAC3B,aAAO,MAAMF,OAAO,CAACE,SAAR,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,MAA7B,CAAoCC,IAAI,IAAI,CAAC,CAACA,IAA9C,EAAoDC,IAApD,CAAyD,GAAzD,CAAb;AACH,KAFM,MAEA;AACH,aAAON,OAAO,CAACO,QAAR,CAAiBC,WAAjB,EAAP;AACH;AACJ;;AACD,WAASC,SAAT,CAAmBT,OAAnB,EAA4B;AACxB,QAAIU,QAAQ,GAAGX,WAAW,CAACC,OAAD,CAA1B;;AACA,QAAIH,eAAe,CAACc,OAAhB,CAAwBD,QAAxB,MAAsC,CAAC,CAA3C,EAA8C;AAC1CZ,MAAAA,WAAW;AACd;AACJ;;AACDH,EAAAA,MAAM,CAAC,YAAY;AACf,SAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,UAAIC,SAAS,GAAGC,QAAQ,CAACC,iBAAT,CACZC,MAAM,CAACC,UAAP,GAAoBL,CAApB,GAAwB,EADZ,EACgBI,MAAM,CAACE,WAAP,GAAqB,CADrC,CAAhB;AAEA,UAAIC,SAAS,GAAGL,QAAQ,CAACC,iBAAT,CACZC,MAAM,CAACC,UAAP,GAAoB,CADR,EACWD,MAAM,CAACE,WAAP,GAAqBN,CAArB,GAAyB,EADpC,CAAhB;AAEAH,MAAAA,SAAS,CAACI,SAAS,CAAC,CAAD,CAAV,CAAT;AACAJ,MAAAA,SAAS,CAACU,SAAS,CAAC,CAAD,CAAV,CAAT;AACH;;AAED,QAAIrB,WAAW,IAAI,EAAnB,EAAuB;AACnB,UAAIsB,cAAc,GAAGN,QAAQ,CAACC,iBAAT,CACjBC,MAAM,CAACC,UAAP,GAAoB,CADH,EACMD,MAAM,CAACE,WAAP,GAAqB,CAD3B,CAArB;AAGAxB,MAAAA,OAAO,CAAC2B,IAAR,CAAa;AACTC,QAAAA,IAAI,EAAE,WADG;AAETC,QAAAA,IAAI,EAAE,OAFG;AAGTzB,QAAAA,WAHS;AAIT0B,QAAAA,MAAM,EAAER,MAAM,CAACQ,MAAP,CAAcC,KAAd,GAAsB,GAAtB,GAA4BT,MAAM,CAACQ,MAAP,CAAcE,MAJzC;AAKTC,QAAAA,SAAS,EAAEX,MAAM,CAACC,UAAP,GAAoB,GAApB,GAA0BD,MAAM,CAACE,WALnC;AAMTR,QAAAA,QAAQ,EAAEX,WAAW,CAACqB,cAAc,CAAC,CAAD,CAAf;AANZ,OAAb;AAQH;AACJ,GAvBK,CAAN;AAyBH","sourcesContent":["import tracker from '../utils/tracker';\nimport onload from '../utils/onload';\nexport function blankScreen() {\n    let wrapperElements = ['html', 'body', '#container', '.content'];\n    let emptyPoints = 0;\n    function getSelector(element) {\n        if (element.id) {\n            return \"#\" + element.id;\n        } else if (element.className) {// a b c => .a.b.c\n            return \".\" + element.className.split(' ').filter(item => !!item).join('.');\n        } else {\n            return element.nodeName.toLowerCase();\n        }\n    }\n    function isWrapper(element) {\n        let selector = getSelector(element);\n        if (wrapperElements.indexOf(selector) !== -1) {\n            emptyPoints++;\n        }\n    }\n    onload(function () {\n        for (let i = 1; i <= 9; i++) {\n            let xElements = document.elementsFromPoint(\n                window.innerWidth * i / 10, window.innerHeight / 2);\n            let yElements = document.elementsFromPoint(\n                window.innerWidth / 2, window.innerHeight * i / 10);\n            isWrapper(xElements[0]);\n            isWrapper(yElements[0]);\n        }\n\n        if (emptyPoints >= 18) {\n            let centerElements = document.elementsFromPoint(\n                window.innerWidth / 2, window.innerHeight / 2\n            );\n            tracker.send({\n                kind: 'stability',\n                type: 'blank',\n                emptyPoints,\n                screen: window.screen.width + \"X\" + window.screen.height,\n                viewPoint: window.innerWidth + \"X\" + window.innerHeight,\n                selector: getSelector(centerElements[0])\n            });\n        }\n    });\n\n}"]},"metadata":{},"sourceType":"module"}