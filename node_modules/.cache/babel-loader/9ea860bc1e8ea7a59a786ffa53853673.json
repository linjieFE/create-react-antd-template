{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/user/forms/add-user-form.jsx\";\nimport React, { Component } from \"react\";\nimport { reqValidatUserID } from \"@/api/user\";\nconst {\n  TextArea\n} = _Input;\n\nclass AddUserForm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.validatUserID = async (rule, value, callback) => {\n      if (value) {\n        if (!/^[a-zA-Z0-9]{1,6}$/.test(value)) {\n          callback(\"用户ID必须为1-6位数字或字母组合\");\n        }\n\n        let res = await reqValidatUserID(value);\n        const {\n          status\n        } = res.data;\n\n        if (status) {\n          callback(\"该用户ID已存在\");\n        }\n      } else {\n        callback(\"请输入用户ID\");\n      }\n\n      callback();\n    };\n  }\n\n  render() {\n    const {\n      visible,\n      onCancel,\n      onOk,\n      form,\n      confirmLoading\n    } = this.props;\n    const {\n      getFieldDecorator\n    } = form;\n    const formItemLayout = {\n      labelCol: {\n        sm: {\n          span: 4\n        }\n      },\n      wrapperCol: {\n        sm: {\n          span: 16\n        }\n      }\n    };\n    return /*#__PURE__*/React.createElement(_Modal, {\n      title: \"\\u7F16\\u8F91\",\n      visible: visible,\n      onCancel: onCancel,\n      onOk: onOk,\n      confirmLoading: confirmLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(_Form, Object.assign({}, formItemLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(_Form.Item, {\n      label: \"\\u7528\\u6237ID:\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, getFieldDecorator(\"id\", {\n      rules: [{\n        required: true,\n        validator: this.validatUserID\n      }]\n    })( /*#__PURE__*/React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }\n    }))), /*#__PURE__*/React.createElement(_Form.Item, {\n      label: \"\\u7528\\u6237\\u540D\\u79F0:\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, getFieldDecorator(\"name\", {\n      rules: [{\n        required: true,\n        message: \"请输入用户名称!\"\n      }]\n    })( /*#__PURE__*/React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\\u79F0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 16\n      }\n    }))), /*#__PURE__*/React.createElement(_Form.Item, {\n      label: \"\\u7528\\u6237\\u89D2\\u8272:\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, getFieldDecorator(\"role\", {\n      initialValue: \"admin\"\n    })( /*#__PURE__*/React.createElement(_Select, {\n      style: {\n        width: 120\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(_Select.Option, {\n      value: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"admin\"), /*#__PURE__*/React.createElement(_Select.Option, {\n      value: \"guest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"guest\")))), /*#__PURE__*/React.createElement(_Form.Item, {\n      label: \"\\u7528\\u6237\\u63CF\\u8FF0:\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, getFieldDecorator(\"description\", {})( /*#__PURE__*/React.createElement(TextArea, {\n      rows: 4,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u63CF\\u8FF0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 16\n      }\n    })))));\n  }\n\n}\n\nexport default _Form.create({\n  name: \"AddUserForm\"\n})(AddUserForm);","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/user/forms/add-user-form.jsx"],"names":["React","Component","reqValidatUserID","TextArea","AddUserForm","validatUserID","rule","value","callback","test","res","status","data","render","visible","onCancel","onOk","form","confirmLoading","props","getFieldDecorator","formItemLayout","labelCol","sm","span","wrapperCol","rules","required","validator","message","initialValue","width","create","name"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,gBAAT,QAAiC,YAAjC;AACA,MAAM;AAAEC,EAAAA;AAAF,UAAN;;AACA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SAClCI,aADkC,GAClB,OAAOC,IAAP,EAAaC,KAAb,EAAoBC,QAApB,KAAiC;AAC/C,UAAID,KAAJ,EAAW;AACT,YAAI,CAAC,qBAAqBE,IAArB,CAA0BF,KAA1B,CAAL,EAAuC;AACrCC,UAAAA,QAAQ,CAAC,oBAAD,CAAR;AACD;;AACD,YAAIE,GAAG,GAAG,MAAMR,gBAAgB,CAACK,KAAD,CAAhC;AACA,cAAM;AAAEI,UAAAA;AAAF,YAAaD,GAAG,CAACE,IAAvB;;AACA,YAAID,MAAJ,EAAY;AACVH,UAAAA,QAAQ,CAAC,UAAD,CAAR;AACD;AACF,OATD,MASO;AACLA,QAAAA,QAAQ,CAAC,SAAD,CAAR;AACD;;AACDA,MAAAA,QAAQ;AACT,KAfiC;AAAA;;AAgBlCK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,QAAX;AAAqBC,MAAAA,IAArB;AAA2BC,MAAAA,IAA3B;AAAiCC,MAAAA;AAAjC,QAAoD,KAAKC,KAA/D;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAwBH,IAA9B;AACA,UAAMI,cAAc,GAAG;AACrBC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,EAAE,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AADI,OADW;AAIrBC,MAAAA,UAAU,EAAE;AACVF,QAAAA,EAAE,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AADM;AAJS,KAAvB;AAQA,wBACE;AACE,MAAA,KAAK,EAAC,cADR;AAEE,MAAA,OAAO,EAAEV,OAFX;AAGE,MAAA,QAAQ,EAAEC,QAHZ;AAIE,MAAA,IAAI,EAAEC,IAJR;AAKE,MAAA,cAAc,EAAEE,cALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,6CAAUG,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,iBAAiB,CAAC,IAAD,EAAO;AACvBM,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBC,QAAAA,SAAS,EAAE,KAAKvB;AAAlC,OAAD;AADgB,KAAP,CAAjB,eAEE;AAAO,MAAA,WAAW,EAAC,kCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADH,CADF,eAME,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,2BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGe,iBAAiB,CAAC,MAAD,EAAS;AACzBM,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBE,QAAAA,OAAO,EAAE;AAA3B,OAAD;AADkB,KAAT,CAAjB,eAEE;AAAO,MAAA,WAAW,EAAC,4CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADH,CANF,eAWE,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,2BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGT,iBAAiB,CAAC,MAAD,EAAS;AACzBU,MAAAA,YAAY,EAAE;AADW,KAAT,CAAjB,eAGC;AAAQ,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,4BAAQ,MAAR;AAAe,MAAA,KAAK,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,4BAAQ,MAAR;AAAe,MAAA,KAAK,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CAHD,CADH,CAXF,eAqBE,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,2BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGX,iBAAiB,CAAC,aAAD,EAAgB,EAAhB,CAAjB,eACE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,CAAhB;AAAmB,MAAA,WAAW,EAAC,4CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADH,CArBF,CAPF,CADF;AAoCD;;AA/DiC;;AAkEpC,eAAe,MAAKY,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAAqC7B,WAArC,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Input, Select, Modal } from \"antd\";\nimport { reqValidatUserID } from \"@/api/user\";\nconst { TextArea } = Input;\nclass AddUserForm extends Component {\n  validatUserID = async (rule, value, callback) => {\n    if (value) {\n      if (!/^[a-zA-Z0-9]{1,6}$/.test(value)) {\n        callback(\"用户ID必须为1-6位数字或字母组合\");\n      }\n      let res = await reqValidatUserID(value);\n      const { status } = res.data;\n      if (status) {\n        callback(\"该用户ID已存在\");\n      }\n    } else {\n      callback(\"请输入用户ID\");\n    }\n    callback();\n  };\n  render() {\n    const { visible, onCancel, onOk, form, confirmLoading } = this.props;\n    const { getFieldDecorator } = form;\n    const formItemLayout = {\n      labelCol: {\n        sm: { span: 4 },\n      },\n      wrapperCol: {\n        sm: { span: 16 },\n      },\n    };\n    return (\n      <Modal\n        title=\"编辑\"\n        visible={visible}\n        onCancel={onCancel}\n        onOk={onOk}\n        confirmLoading={confirmLoading}\n      >\n        <Form {...formItemLayout}>\n          <Form.Item label=\"用户ID:\">\n            {getFieldDecorator(\"id\", {\n              rules: [{ required: true, validator: this.validatUserID }],\n            })(<Input placeholder=\"请输入用户ID\" />)}\n          </Form.Item>\n          <Form.Item label=\"用户名称:\">\n            {getFieldDecorator(\"name\", {\n              rules: [{ required: true, message: \"请输入用户名称!\" }],\n            })(<Input placeholder=\"请输入用户名称\" />)}\n          </Form.Item>\n          <Form.Item label=\"用户角色:\">\n            {getFieldDecorator(\"role\", {\n              initialValue: \"admin\",\n            })(\n              <Select style={{ width: 120 }}>\n                <Select.Option value=\"admin\">admin</Select.Option>\n                <Select.Option value=\"guest\">guest</Select.Option>\n              </Select>\n            )}\n          </Form.Item>\n          <Form.Item label=\"用户描述:\">\n            {getFieldDecorator(\"description\", {\n            })(<TextArea rows={4} placeholder=\"请输入用户描述\" />)}\n          </Form.Item>\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nexport default Form.create({ name: \"AddUserForm\" })(AddUserForm);\n"]},"metadata":{},"sourceType":"module"}