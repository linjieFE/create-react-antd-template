{"ast":null,"code":"import \"antd/es/back-top/style/css\";\nimport _BackTop from \"antd/es/back-top\";\nimport \"antd/es/layout/style/css\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/Users/flexiv/Desktop/create-react-antd-template/src/containers/DefaultLayout.jsx\";\nimport React, { Component } from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport routes from \"../routes\";\nimport { menuToggleAction } from \"../store/actionCreators\";\nimport echarts from \"echarts/lib/echarts\";\nimport avatar from \"../assets/images/user.jpg\";\nimport menu from \"./menu\";\nimport \"../assets/styles/layout.scss\";\nimport AppHeader from \"./AppHeader.jsx\";\nimport AppAside from \"./AppAside.jsx\";\nimport AppFooter from \"./AppFooter.jsx\";\nconst Content = _Layout.Content;\n\nclass DefaultLayout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avatar,\n      show: true,\n      menu: []\n    };\n\n    this.getMenu = menu => {\n      return menu;\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      menu: this.getMenu(menu)\n    });\n  }\n\n  componentDidUpdate() {\n    let pathname = this.props.location.pathname; // 菜单收缩展开时 echarts 图表的自适应\n\n    if (pathname === \"/\" || pathname === \"/index\") {\n      this.timer = setTimeout(() => {\n        echarts.init(document.getElementById(\"bar\")).resize();\n        echarts.init(document.getElementById(\"line\")).resize();\n        echarts.init(document.getElementById(\"pie\")).resize();\n        echarts.init(document.getElementById(\"pictorialBar\")).resize();\n        echarts.init(document.getElementById(\"scatter\")).resize();\n      }, 500);\n    } else {\n      this.timer = null;\n    }\n  }\n\n  componentWillUnmount() {\n    this.timer && clearTimeout(this.timer);\n  }\n\n  render() {\n    let _this$props = this.props,\n        menuClick = _this$props.menuClick,\n        menuToggle = _this$props.menuToggle;\n\n    let _ref = JSON.parse(localStorage.getItem(\"user\")) ? JSON.parse(localStorage.getItem(\"user\")) : \"\",\n        auth = _ref.auth;\n\n    return React.createElement(_Layout, {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(_BackTop, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(AppAside, {\n      menuToggle: menuToggle,\n      menu: this.state.menu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(_Layout, {\n      style: {\n        marginLeft: menuToggle ? \"80px\" : \"200px\",\n        minHeight: \"100vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(AppHeader, {\n      menuToggle: menuToggle,\n      menuClick: menuClick,\n      avatar: this.state.avatar,\n      show: this.state.show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Content, {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, routes.map(item => {\n      return React.createElement(Route, {\n        key: item.path,\n        path: item.path,\n        exact: item.exact,\n        render: props => !auth ? React.createElement(item.component, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })) : item.auth && item.auth.indexOf(auth) !== -1 ? React.createElement(item.component, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        })) : // 这里也可以跳转到 403 页面\n        React.createElement(Redirect, Object.assign({\n          to: \"/404\"\n        }, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      });\n    }), React.createElement(Redirect, {\n      to: \"/404\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(AppFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst stateToProp = state => ({\n  menuToggle: state.menuToggle\n});\n\nconst dispatchToProp = dispatch => ({\n  menuClick() {\n    dispatch(menuToggleAction());\n  }\n\n});\n\nexport default withRouter(connect(stateToProp, dispatchToProp)(DefaultLayout));","map":{"version":3,"sources":["/Users/flexiv/Desktop/create-react-antd-template/src/containers/DefaultLayout.jsx"],"names":["React","Component","Route","Switch","Redirect","withRouter","connect","routes","menuToggleAction","echarts","avatar","menu","AppHeader","AppAside","AppFooter","Content","DefaultLayout","state","show","getMenu","componentDidMount","setState","componentDidUpdate","pathname","props","location","timer","setTimeout","init","document","getElementById","resize","componentWillUnmount","clearTimeout","render","menuClick","menuToggle","JSON","parse","localStorage","getItem","auth","marginLeft","minHeight","map","item","path","exact","indexOf","stateToProp","dispatchToProp","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Layout, BackTop } from \"antd\";\nimport routes from \"../routes\";\nimport { menuToggleAction } from \"../store/actionCreators\";\nimport echarts from \"echarts/lib/echarts\";\nimport avatar from \"../assets/images/user.jpg\";\nimport menu from \"./menu\";\nimport \"../assets/styles/layout.scss\";\n\nimport AppHeader from \"./AppHeader.jsx\";\nimport AppAside from \"./AppAside.jsx\";\nimport AppFooter from \"./AppFooter.jsx\";\n\nconst { Content } = Layout;\n\nclass DefaultLayout extends Component {\n  state = {\n    avatar,\n    show: true,\n    menu: []\n  };\n\n  getMenu = menu => {\n    return menu;\n  };\n\n  componentDidMount() {\n    this.setState({\n      menu: this.getMenu(menu)\n    });\n  }\n\n  componentDidUpdate() {\n    let { pathname } = this.props.location;\n\n    // 菜单收缩展开时 echarts 图表的自适应\n    if (pathname === \"/\" || pathname === \"/index\") {\n      this.timer = setTimeout(() => {\n        echarts.init(document.getElementById(\"bar\")).resize();\n        echarts.init(document.getElementById(\"line\")).resize();\n        echarts.init(document.getElementById(\"pie\")).resize();\n        echarts.init(document.getElementById(\"pictorialBar\")).resize();\n        echarts.init(document.getElementById(\"scatter\")).resize();\n      }, 500);\n    } else {\n      this.timer = null;\n    }\n  }\n\n  componentWillUnmount() {\n    this.timer && clearTimeout(this.timer);\n  }\n\n  render() {\n    let { menuClick, menuToggle } = this.props;\n    let { auth } = JSON.parse(localStorage.getItem(\"user\"))\n      ? JSON.parse(localStorage.getItem(\"user\"))\n      : \"\";\n    return (\n      <Layout className=\"app\">\n        <BackTop />\n        <AppAside menuToggle={menuToggle} menu={this.state.menu} />\n        <Layout\n          style={{\n            marginLeft: menuToggle ? \"80px\" : \"200px\",\n            minHeight: \"100vh\"\n          }}\n        >\n          <AppHeader\n            menuToggle={menuToggle}\n            menuClick={menuClick}\n            avatar={this.state.avatar}\n            show={this.state.show}\n          />\n          <Content className=\"content\">\n            <Switch>\n              {routes.map(item => {\n                return (\n                  <Route\n                    key={item.path}\n                    path={item.path}\n                    exact={item.exact}\n                    render={props =>\n                      !auth ? (\n                        <item.component {...props} />\n                      ) : item.auth && item.auth.indexOf(auth) !== -1 ? (\n                        <item.component {...props} />\n                      ) : (\n                        // 这里也可以跳转到 403 页面\n                        <Redirect to=\"/404\" {...props} />\n                      )\n                    }\n                  ></Route>\n                );\n              })}\n              <Redirect to=\"/404\" />\n            </Switch>\n          </Content>\n          <AppFooter />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst stateToProp = state => ({\n  menuToggle: state.menuToggle\n});\n\nconst dispatchToProp = dispatch => ({\n  menuClick() {\n    dispatch(menuToggleAction());\n  }\n});\n\nexport default withRouter(\n  connect(\n    stateToProp,\n    dispatchToProp\n  )(DefaultLayout)\n);\n"]},"metadata":{},"sourceType":"module"}