{"ast":null,"code":"import \"antd/es/layout/style/css\";\nimport _Layout from \"antd/es/layout\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/divider/style/css\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/notification/style/css\";\nimport _notification from \"antd/es/notification\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport _slicedToArray from \"/Users/flexiv/Desktop/create-react-antd-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/flexiv/Desktop/create-react-antd-template/src/views/Login/Login.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\"; // import axios from '@/api'\n// import { API } from '@/api/config'\n\nimport \"../../assets/styles/view-style/login.scss\";\n\nconst Login = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const getFieldDecorator = props.form.getFieldDecorator;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      if (!err) {\n        // let { username, password } = values\n        // axios\n        //     .post(`${API}/login`, { username, password })\n        //     .then(res => {\n        //         if (res.data.code === 0) {\n        //             localStorage.setItem('user', JSON.stringify(res.data.data.user))\n        //             localStorage.setItem('token', res.data.data.token)\n        //             props.history.push('/')\n        //             message.success('登录成功!')\n        //         } else {\n        //             // 这里处理一些错误信息\n        //         }\n        //     })\n        //     .catch(err => {})\n        // 这里可以做权限校验 模拟接口返回用户权限标识\n        switch (values.username) {\n          case \"admin\":\n            values.auth = 0;\n            break;\n\n          default:\n            values.auth = 1;\n        }\n\n        localStorage.setItem(\"user\", JSON.stringify(values));\n        setLoading(true);\n        setTimeout(() => {\n          _message.success(\"登录成功!\");\n\n          props.history.push(\"/\");\n        }, 2000);\n      }\n    });\n  };\n\n  useEffect(() => {\n    _notification.open({\n      message: \"欢迎使用后台管理平台\",\n      duration: null,\n      description: \"账号 admin(管理员) 其他(游客) 密码随意\"\n    });\n\n    return () => {\n      _notification.destroy();\n    };\n  }, []);\n  return React.createElement(_Layout, {\n    className: \"login animated fadeIn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"model\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\"), React.createElement(_Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(_Form, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, getFieldDecorator(\"username\", {\n    rules: [{\n      required: true,\n      message: \"请输入用户名!\"\n    }]\n  })(React.createElement(_Input, {\n    prefix: React.createElement(_Icon, {\n      type: \"user\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }),\n    placeholder: \"\\u7528\\u6237\\u540D\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }))), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, getFieldDecorator(\"password\", {\n    rules: [{\n      required: true,\n      message: \"请输入密码\"\n    }]\n  })(React.createElement(_Input, {\n    prefix: React.createElement(_Icon, {\n      type: \"lock\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }),\n    type: \"password\",\n    placeholder: \"\\u5BC6\\u7801\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }))), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    loading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"\\u767B\\u5F55\"))))));\n};\n\nexport default withRouter(_Form.create()(Login));","map":{"version":3,"sources":["/Users/flexiv/Desktop/create-react-antd-template/src/views/Login/Login.jsx"],"names":["React","useState","useEffect","withRouter","Login","props","loading","setLoading","getFieldDecorator","form","handleSubmit","e","preventDefault","validateFields","err","values","username","auth","localStorage","setItem","JSON","stringify","setTimeout","success","history","push","open","message","duration","description","destroy","rules","required","color","create"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Layout,\n  Input,\n  Icon,\n  Form,\n  Button,\n  Divider,\n  message,\n  notification\n} from \"antd\";\nimport { withRouter } from \"react-router-dom\";\n// import axios from '@/api'\n// import { API } from '@/api/config'\nimport \"../../assets/styles/view-style/login.scss\";\n\nconst Login = props => {\n  const [loading, setLoading] = useState(false);\n\n  const { getFieldDecorator } = props.form;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      if (!err) {\n        // let { username, password } = values\n        // axios\n        //     .post(`${API}/login`, { username, password })\n        //     .then(res => {\n        //         if (res.data.code === 0) {\n        //             localStorage.setItem('user', JSON.stringify(res.data.data.user))\n        //             localStorage.setItem('token', res.data.data.token)\n        //             props.history.push('/')\n        //             message.success('登录成功!')\n        //         } else {\n        //             // 这里处理一些错误信息\n        //         }\n        //     })\n        //     .catch(err => {})\n\n        // 这里可以做权限校验 模拟接口返回用户权限标识\n        switch (values.username) {\n          case \"admin\":\n            values.auth = 0;\n            break;\n          default:\n            values.auth = 1;\n        }\n\n        localStorage.setItem(\"user\", JSON.stringify(values));\n        setLoading(true);\n        setTimeout(() => {\n          message.success(\"登录成功!\");\n          props.history.push(\"/\");\n        }, 2000);\n      }\n    });\n  };\n\n  useEffect(() => {\n    notification.open({\n      message: \"欢迎使用后台管理平台\",\n      duration: null,\n      description: \"账号 admin(管理员) 其他(游客) 密码随意\"\n    });\n    return () => {\n      notification.destroy();\n    };\n  }, []);\n\n  return (\n    <Layout className=\"login animated fadeIn\">\n      <div className=\"model\">\n        <div className=\"login-form\">\n          <h3>后台管理系统</h3>\n          <Divider />\n          <Form onSubmit={handleSubmit}>\n            <Form.Item>\n              {getFieldDecorator(\"username\", {\n                rules: [{ required: true, message: \"请输入用户名!\" }]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"用户名\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"请输入密码\" }]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  type=\"password\"\n                  placeholder=\"密码\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"login-form-button\"\n                loading={loading}\n              >\n                登录\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default withRouter(Form.create()(Login));\n"]},"metadata":{},"sourceType":"module"}