{"ast":null,"code":"var _jsxFileName = \"/Users/flexiv/Downloads/react-antd-admin-template-master/src/router/index.js\";\nimport React from \"react\";\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getUserInfo } from \"@/store/actions\";\nimport Layout from \"@/views/layout\";\nimport Login from \"@/views/login\";\n\nclass Router extends React.Component {\n  render() {\n    const {\n      token,\n      role,\n      getUserInfo\n    } = this.props;\n    return /*#__PURE__*/React.createElement(HashRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      render: () => {\n        if (!token) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/login\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 24\n            }\n          });\n        } else {\n          if (role) {\n            return /*#__PURE__*/React.createElement(Layout, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 21,\n                columnNumber: 26\n              }\n            });\n          } else {\n            getUserInfo(token).then(() => /*#__PURE__*/React.createElement(Layout, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 23,\n                columnNumber: 49\n              }\n            }));\n          }\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default connect(state => state.user, {\n  getUserInfo\n})(Router);","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/router/index.js"],"names":["React","HashRouter","Route","Switch","Redirect","connect","getUserInfo","Layout","Login","Router","Component","render","token","role","props","then","state","user"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,QAApC,QAAoD,kBAApD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,KAAP,MAAkB,eAAlB;;AACA,MAAMC,MAAN,SAAqBT,KAAK,CAACU,SAA3B,CAAqC;AACnCC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,IAAT;AAAeP,MAAAA;AAAf,QAA+B,KAAKQ,KAA1C;AACA,wBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,QAAlB;AAA2B,MAAA,SAAS,EAAEN,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,GADP;AAEE,MAAA,MAAM,EAAE,MAAM;AACZ,YAAI,CAACI,KAAL,EAAY;AACV,8BAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,SAFD,MAEO;AACL,cAAIC,IAAJ,EAAU;AACR,gCAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,WAFD,MAEO;AACLP,YAAAA,WAAW,CAACM,KAAD,CAAX,CAAmBG,IAAnB,CAAwB,mBAAM,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA9B;AACD;AACF;AACF,OAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF;AAqBD;;AAxBkC;;AA2BrC,eAAeV,OAAO,CAAEW,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwB;AAAEX,EAAAA;AAAF,CAAxB,CAAP,CAAgDG,MAAhD,CAAf","sourcesContent":["import React from \"react\";\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getUserInfo } from \"@/store/actions\";\nimport Layout from \"@/views/layout\";\nimport Login from \"@/views/login\";\nclass Router extends React.Component {\n  render() {\n    const { token, role, getUserInfo } = this.props;\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route\n            path=\"/\"\n            render={() => {\n              if (!token) {\n                return <Redirect to=\"/login\" />;\n              } else {\n                if (role) {\n                  return <Layout />;\n                } else {\n                  getUserInfo(token).then(() => <Layout />);\n                }\n              }\n            }}\n          />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nexport default connect((state) => state.user, { getUserInfo })(Router);\n"]},"metadata":{},"sourceType":"module"}