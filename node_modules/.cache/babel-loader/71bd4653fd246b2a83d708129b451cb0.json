{"ast":null,"code":"import \"antd/es/dropdown/style\";\nimport _Dropdown from \"antd/es/dropdown\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/avatar/style\";\nimport _Avatar from \"antd/es/avatar\";\nimport \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/layout/Header/index.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { logout, getUserInfo } from \"@/store/actions\";\nimport FullScreen from \"@/components/FullScreen\";\nimport Settings from \"@/components/Settings\";\nimport Hamburger from \"@/components/Hamburger\";\nimport BreadCrumb from \"@/components/BreadCrumb\";\nimport \"./index.less\";\nconst {\n  Header\n} = _Layout;\n\nconst LayoutHeader = props => {\n  const {\n    token,\n    avatar,\n    sidebarCollapsed,\n    logout,\n    getUserInfo,\n    showSettings,\n    fixedHeader\n  } = props;\n  token && getUserInfo(token);\n\n  const handleLogout = token => {\n    _Modal.confirm({\n      title: \"注销\",\n      content: \"确定要退出系统吗?\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      onOk: () => {\n        logout(token);\n      }\n    });\n  };\n\n  const onClick = ({\n    key\n  }) => {\n    switch (key) {\n      case \"logout\":\n        handleLogout(token);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const menu = /*#__PURE__*/React.createElement(_Menu, {\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Menu.Item, {\n    key: \"dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"\\u9996\\u9875\")), /*#__PURE__*/React.createElement(_Menu.Item, {\n    key: \"project\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: \"https://github.com/NLRX-WJC/react-antd-admin-template\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"\\u9879\\u76EE\\u5730\\u5740\")), /*#__PURE__*/React.createElement(_Menu.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(_Menu.Item, {\n    key: \"logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"\\u6CE8\\u9500\"));\n\n  const computedStyle = () => {\n    let styles;\n\n    if (fixedHeader) {\n      if (sidebarCollapsed) {\n        styles = {\n          width: \"calc(100% - 80px)\"\n        };\n      } else {\n        styles = {\n          width: \"calc(100% - 200px)\"\n        };\n      }\n    } else {\n      styles = {\n        width: \"100%\"\n      };\n    }\n\n    return styles;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, fixedHeader ? /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 22\n    }\n  }) : null, /*#__PURE__*/React.createElement(Header, {\n    style: computedStyle(),\n    className: fixedHeader ? \"fix-header\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Hamburger, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BreadCrumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FullScreen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), showSettings ? /*#__PURE__*/React.createElement(Settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 27\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Dropdown, {\n    overlay: menu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Avatar, {\n    shape: \"square\",\n    size: \"medium\",\n    src: avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(_Icon, {\n    style: {\n      color: \"rgba(0,0,0,.3)\"\n    },\n    type: \"caret-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nconst mapStateToProps = state => {\n  return { ...state.app,\n    ...state.user,\n    ...state.settings\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logout,\n  getUserInfo\n})(LayoutHeader);","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/layout/Header/index.jsx"],"names":["React","connect","Link","logout","getUserInfo","FullScreen","Settings","Hamburger","BreadCrumb","Header","LayoutHeader","props","token","avatar","sidebarCollapsed","showSettings","fixedHeader","handleLogout","confirm","title","content","okText","cancelText","onOk","onClick","key","menu","computedStyle","styles","width","color","mapStateToProps","state","app","user","settings"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Icon, Menu, Dropdown, Modal, Layout, Avatar } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { logout, getUserInfo } from \"@/store/actions\";\nimport FullScreen from \"@/components/FullScreen\";\nimport Settings from \"@/components/Settings\";\nimport Hamburger from \"@/components/Hamburger\";\nimport BreadCrumb from \"@/components/BreadCrumb\";\nimport \"./index.less\";\nconst { Header } = Layout;\n\nconst LayoutHeader = (props) => {\n  const {\n    token,\n    avatar,\n    sidebarCollapsed,\n    logout,\n    getUserInfo,\n    showSettings,\n    fixedHeader,\n  } = props;\n  token && getUserInfo(token);\n  const handleLogout = (token) => {\n    Modal.confirm({\n      title: \"注销\",\n      content: \"确定要退出系统吗?\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      onOk: () => {\n        logout(token);\n      },\n    });\n  };\n  const onClick = ({ key }) => {\n    switch (key) {\n      case \"logout\":\n        handleLogout(token);\n        break;\n      default:\n        break;\n    }\n  };\n  const menu = (\n    <Menu onClick={onClick}>\n      <Menu.Item key=\"dashboard\">\n        <Link to=\"/dashboard\">首页</Link>\n      </Menu.Item>\n      <Menu.Item key=\"project\">\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/NLRX-WJC/react-antd-admin-template\"\n          rel=\"noopener noreferrer\"\n        >\n          项目地址\n        </a>\n      </Menu.Item>\n      <Menu.Divider />\n      <Menu.Item key=\"logout\">注销</Menu.Item>\n    </Menu>\n  );\n  const computedStyle = () => {\n    let styles;\n    if (fixedHeader) {\n      if (sidebarCollapsed) {\n        styles = {\n          width: \"calc(100% - 80px)\",\n        };\n      } else {\n        styles = {\n          width: \"calc(100% - 200px)\",\n        };\n      }\n    } else {\n      styles = {\n        width: \"100%\",\n      };\n    }\n    return styles;\n  };\n  return (\n    <>\n      {/* 这里是仿照antd pro的做法,如果固定header，\n      则header的定位变为fixed，此时需要一个定位为relative的header把原来的header位置撑起来 */}\n      {fixedHeader ? <Header /> : null}\n      <Header\n        style={computedStyle()}\n        className={fixedHeader ? \"fix-header\" : \"\"}\n      >\n        <Hamburger />\n        <BreadCrumb />\n        <div className=\"right-menu\">\n          <FullScreen />\n          {showSettings ? <Settings /> : null}\n          <div className=\"dropdown-wrap\">\n            <Dropdown overlay={menu}>\n              <div>\n                <Avatar shape=\"square\" size=\"medium\" src={avatar} />\n                <Icon style={{ color: \"rgba(0,0,0,.3)\" }} type=\"caret-down\" />\n              </div>\n            </Dropdown>\n          </div>\n        </div>\n      </Header>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.app,\n    ...state.user,\n    ...state.settings,\n  };\n};\nexport default connect(mapStateToProps, { logout, getUserInfo })(LayoutHeader);\n"]},"metadata":{},"sourceType":"module"}