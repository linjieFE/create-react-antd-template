{"ast":null,"code":"import { tracker } from \"@/api/monitor\";\nimport userAgent from \"user-agent\";\nimport store from \"@/store\";\nimport { addBug } from \"@/store/actions\";\n\nfunction getExtraData() {\n  return {\n    title: document.title,\n    url: window.location.href,\n    timestamp: Date.now(),\n    userAgent: userAgent.parse(navigator.userAgent).name\n  };\n} //gif图片做上传 图片速度 快没有跨域 问题，\n\n\nclass SendTracker {\n  // send(data = {}) {\n  //   let extraData = getExtraData();\n  //   let logInfo = { ...extraData, ...data };\n  //   // 图片打点\n  //   const img = new window.Image();\n  //   img.src = `${feeTarget}?d=${encodeURIComponent(JSON.stringify(logInfo))}`;\n  // }\n  send(data = {}) {\n    let extraData = getExtraData();\n    let logInfo = { ...extraData,\n      ...data\n    };\n    tracker(logInfo);\n    store.dispatch(addBug(logInfo));\n  }\n\n}\n\nexport default new SendTracker();","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/lib/monitor/utils/tracker.js"],"names":["tracker","userAgent","store","addBug","getExtraData","title","document","url","window","location","href","timestamp","Date","now","parse","navigator","name","SendTracker","send","data","extraData","logInfo","dispatch"],"mappings":"AAAA,SAASA,OAAT,QAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAEA,SAASC,YAAT,GAAwB;AACtB,SAAO;AACLC,IAAAA,KAAK,EAAEC,QAAQ,CAACD,KADX;AAELE,IAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAFhB;AAGLC,IAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL,EAHN;AAILZ,IAAAA,SAAS,EAAEA,SAAS,CAACa,KAAV,CAAgBC,SAAS,CAACd,SAA1B,EAAqCe;AAJ3C,GAAP;AAMD,C,CACD;;;AACA,MAAMC,WAAN,CAAkB;AAChB;AACA;AACA;AAEA;AACA;AACA;AACA;AACAC,EAAAA,IAAI,CAACC,IAAI,GAAG,EAAR,EAAY;AACd,QAAIC,SAAS,GAAGhB,YAAY,EAA5B;AACA,QAAIiB,OAAO,GAAG,EAAE,GAAGD,SAAL;AAAgB,SAAGD;AAAnB,KAAd;AACAnB,IAAAA,OAAO,CAACqB,OAAD,CAAP;AACAnB,IAAAA,KAAK,CAACoB,QAAN,CAAenB,MAAM,CAACkB,OAAD,CAArB;AACD;;AAde;;AAiBlB,eAAe,IAAIJ,WAAJ,EAAf","sourcesContent":["import { tracker } from \"@/api/monitor\";\nimport userAgent from \"user-agent\";\nimport store from \"@/store\";\nimport { addBug } from \"@/store/actions\"\n\nfunction getExtraData() {\n  return {\n    title: document.title,\n    url: window.location.href,\n    timestamp: Date.now(),\n    userAgent: userAgent.parse(navigator.userAgent).name,\n  };\n}\n//gif图片做上传 图片速度 快没有跨域 问题，\nclass SendTracker {\n  // send(data = {}) {\n  //   let extraData = getExtraData();\n  //   let logInfo = { ...extraData, ...data };\n\n  //   // 图片打点\n  //   const img = new window.Image();\n  //   img.src = `${feeTarget}?d=${encodeURIComponent(JSON.stringify(logInfo))}`;\n  // }\n  send(data = {}) {\n    let extraData = getExtraData();\n    let logInfo = { ...extraData, ...data };\n    tracker(logInfo);\n    store.dispatch(addBug(logInfo));\n  }\n}\n\nexport default new SendTracker();\n"]},"metadata":{},"sourceType":"module"}