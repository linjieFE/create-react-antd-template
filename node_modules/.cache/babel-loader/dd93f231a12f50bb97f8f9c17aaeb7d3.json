{"ast":null,"code":"var _jsxFileName = \"/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/dashboard/components/PieChart/index.jsx\";\nimport React, { Component } from \"react\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport echarts from \"@/lib/echarts\";\nimport { debounce } from \"@/utils\";\n\nclass PieChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chart: null\n    };\n  }\n\n  componentDidMount() {\n    debounce(this.initChart.bind(this), 300)();\n    window.addEventListener(\"resize\", () => this.resize());\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.sidebarCollapsed !== this.props.sidebarCollapsed) {\n      this.resize();\n    }\n\n    if (nextProps.chartData !== this.props.chartData) {\n      debounce(this.initChart.bind(this), 300)();\n    }\n  }\n\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  resize() {\n    const chart = this.state.chart;\n\n    if (chart) {\n      debounce(chart.resize.bind(this), 300)();\n    }\n  }\n\n  dispose() {\n    if (!this.state.chart) {\n      return;\n    }\n\n    window.removeEventListener(\"resize\", () => this.resize()); // 移除窗口，变化时重置图表\n\n    this.setState({\n      chart: null\n    });\n  }\n\n  setOptions() {\n    const animationDuration = 3000;\n    this.state.chart.setOption({\n      tooltip: {\n        trigger: \"item\",\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n      },\n      legend: {\n        left: \"center\",\n        bottom: \"10\",\n        data: [\"Industries\", \"Technology\", \"Forex\", \"Gold\", \"Forecasts\"]\n      },\n      calculable: true,\n      series: [{\n        name: \"WEEKLY WRITE ARTICLES\",\n        type: \"pie\",\n        roseType: \"radius\",\n        radius: [15, 95],\n        center: [\"50%\", \"38%\"],\n        data: [{\n          value: 320,\n          name: \"Industries\"\n        }, {\n          value: 240,\n          name: \"Technology\"\n        }, {\n          value: 149,\n          name: \"Forex\"\n        }, {\n          value: 100,\n          name: \"Gold\"\n        }, {\n          value: 59,\n          name: \"Forecasts\"\n        }],\n        animationEasing: \"cubicInOut\",\n        animationDuration\n      }]\n    });\n  }\n\n  initChart() {\n    if (!this.el) return;\n    this.setState({\n      chart: echarts.init(this.el, \"macarons\")\n    }, () => {\n      this.setOptions(this.props.chartData);\n    });\n  }\n\n  render() {\n    const {\n      className,\n      height,\n      width,\n      styles\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: el => this.el = el,\n      style: { ...styles,\n        height,\n        width\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nPieChart.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  className: PropTypes.string,\n  styles: PropTypes.object\n};\nPieChart.defaultProps = {\n  width: \"100%\",\n  height: \"300px\",\n  styles: {},\n  className: \"\"\n};\nexport default connect(state => state.app)(PieChart);","map":{"version":3,"sources":["/Users/flexiv/Downloads/react-antd-admin-template-master/src/views/dashboard/components/PieChart/index.jsx"],"names":["React","Component","PropTypes","connect","echarts","debounce","PieChart","state","chart","componentDidMount","initChart","bind","window","addEventListener","resize","componentWillReceiveProps","nextProps","sidebarCollapsed","props","chartData","componentWillUnmount","dispose","removeEventListener","setState","setOptions","animationDuration","setOption","tooltip","trigger","formatter","legend","left","bottom","data","calculable","series","name","type","roseType","radius","center","value","animationEasing","el","init","render","className","height","width","styles","propTypes","string","object","defaultProps","app"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport echarts from \"@/lib/echarts\";\nimport { debounce } from \"@/utils\";\n\nclass PieChart extends Component {\n  static propTypes = {\n    width: PropTypes.string,\n    height: PropTypes.string,\n    className: PropTypes.string,\n    styles: PropTypes.object,\n  };\n  static defaultProps = {\n    width: \"100%\",\n    height: \"300px\",\n    styles: {},\n    className: \"\",\n  };\n  state = {\n    chart: null,\n  };\n\n  componentDidMount() {\n    debounce(this.initChart.bind(this), 300)();\n    window.addEventListener(\"resize\", () => this.resize());\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.sidebarCollapsed !== this.props.sidebarCollapsed) {\n      this.resize();\n    }\n    if (nextProps.chartData !== this.props.chartData) {\n      debounce(this.initChart.bind(this), 300)();\n    }\n  }\n\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  resize() {\n    const chart = this.state.chart;\n    if (chart) {\n      debounce(chart.resize.bind(this), 300)();\n    }\n  }\n\n  dispose() {\n    if (!this.state.chart) {\n      return;\n    }\n    window.removeEventListener(\"resize\", () => this.resize()); // 移除窗口，变化时重置图表\n    this.setState({ chart: null });\n  }\n\n  setOptions() {\n    const animationDuration = 3000;\n    this.state.chart.setOption({\n      tooltip: {\n        trigger: \"item\",\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\",\n      },\n      legend: {\n        left: \"center\",\n        bottom: \"10\",\n        data: [\"Industries\", \"Technology\", \"Forex\", \"Gold\", \"Forecasts\"],\n      },\n      calculable: true,\n      series: [\n        {\n          name: \"WEEKLY WRITE ARTICLES\",\n          type: \"pie\",\n          roseType: \"radius\",\n          radius: [15, 95],\n          center: [\"50%\", \"38%\"],\n          data: [\n            { value: 320, name: \"Industries\" },\n            { value: 240, name: \"Technology\" },\n            { value: 149, name: \"Forex\" },\n            { value: 100, name: \"Gold\" },\n            { value: 59, name: \"Forecasts\" },\n          ],\n          animationEasing: \"cubicInOut\",\n          animationDuration\n        },\n      ],\n    });\n  }\n\n  initChart() {\n    if (!this.el) return;\n    this.setState({ chart: echarts.init(this.el, \"macarons\") }, () => {\n      this.setOptions(this.props.chartData);\n    });\n  }\n\n  render() {\n    const { className, height, width, styles } = this.props;\n    return (\n      <div\n        className={className}\n        ref={(el) => (this.el = el)}\n        style={{\n          ...styles,\n          height,\n          width,\n        }}\n      />\n    );\n  }\n}\n\nexport default connect((state) => state.app)(PieChart);\n"]},"metadata":{},"sourceType":"module"}